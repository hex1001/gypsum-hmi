<?xml version="1.0" encoding="utf-8"?>
<ScadaCommSvcConfig>
  <!--Общие параметры-->
  <CommonParams>
    <Param name="ServerUse" value="true" descr="Использовать SCADA-Сервер" />
    <Param name="ServerHost" value="localhost" descr="Имя компьютера или IP-адрес SCADA-Сервера" />
    <Param name="ServerPort" value="10000" descr="Номер TCP-порта SCADA-Сервера" />
    <Param name="ServerUser" value="ScadaComm" descr="Имя пользователя для подключения к SCADA-Серверу" />
    <Param name="ServerPwd" value="12345" descr="Пароль пользователя для подключения к SCADA-Серверу" />
    <Param name="ServerTimeout" value="10000" descr="Таймаут ожидания ответа SCADA-Сервера, мс" />
    <Param name="WaitForStop" value="10000" descr="Ожидание остановки линий связи, мс" />
    <Param name="SendModData" value="true" descr="Передавать только изменившиеся теги КП" />
    <Param name="SendAllDataPer" value="60" descr="Период передачи всех тегов КП, с" />
  </CommonParams>
  <!--Линии связи-->
  <CommLines>
    <!--Линия 1-->
    <CommLine active="true" bind="true" number="1" name="LAN502">
      <CommChannel type="TcpClient">
        <Param name="Behavior" value="Master" />
        <Param name="ConnMode" value="Individual" />
        <Param name="Host" value="" />
        <Param name="ReconnectAfter" value="5" />
        <Param name="StayConnected" value="True" />
        <Param name="TcpPort" value="502" />
      </CommChannel>
      <LineParams>
        <Param name="ReqTriesCnt" value="5" descr="Количество попыток перезапроса КП при ошибке" />
        <Param name="CycleDelay" value="50" descr="Задержка после цикла опроса, мс" />
        <Param name="CmdEnabled" value="true" descr="Команды ТУ разрешены" />
        <Param name="ReqAfterCmd" value="false" descr="Опрос КП после команды ТУ" />
        <Param name="DetailedLog" value="true" descr="Записывать в журнал подробную информацию" />
      </LineParams>
      <CustomParams>
        <Param name="TransMode" value="TCP" />
      </CustomParams>
      <ReqSequence>
        <KP active="true" bind="true" number="1" name="PLC_12" dll="KpModbus.dll" address="1" callNum="192.168.137.12" timeout="1000" delay="500" time="00:00:00" period="00:00:00" cmdLine="KpModbus_NewTemplate_12.xml" />
      </ReqSequence>
    </CommLine>
    <!--Линия 2-->
    <CommLine active="true" bind="true" number="2" name="LAN503">
      <CommChannel type="TcpClient">
        <Param name="Behavior" value="Master" />
        <Param name="ConnMode" value="Individual" />
        <Param name="Host" value="" />
        <Param name="ReconnectAfter" value="5" />
        <Param name="StayConnected" value="True" />
        <Param name="TcpPort" value="503" />
      </CommChannel>
      <LineParams>
        <Param name="ReqTriesCnt" value="3" descr="Количество попыток перезапроса КП при ошибке" />
        <Param name="CycleDelay" value="0" descr="Задержка после цикла опроса, мс" />
        <Param name="CmdEnabled" value="true" descr="Команды ТУ разрешены" />
        <Param name="ReqAfterCmd" value="false" descr="Опрос КП после команды ТУ" />
        <Param name="DetailedLog" value="true" descr="Записывать в журнал подробную информацию" />
      </LineParams>
      <CustomParams>
        <Param name="TransMode" value="TCP" />
      </CustomParams>
      <ReqSequence>
        <KP active="true" bind="true" number="3" name="PLC_34" dll="KpModbus.dll" address="1" callNum="192.168.137.34" timeout="1000" delay="200" time="00:00:00" period="00:00:00" cmdLine="KpModbus_NewTemplate_34.xml" />
      </ReqSequence>
    </CommLine>
  </CommLines>
</ScadaCommSvcConfig>